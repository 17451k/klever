{% load i18n %}

{% block reports_head_block %}<link href="/static/reports/css/reports.css" rel="stylesheet">{% endblock %}

{% if component == 'Core' and type == '0' %}
    <h5 class="ui brown header">{% trans 'Testing results' %}</h5>
    <table class="ui compact brown table">
        <thead>
            <tr>
                <th>{% trans 'Test' %}</th>
                <th>{% trans 'Verdict' %}</th>
            </tr>
        </thead>
        <tbody>
            {% for test_id in data %}
                <tr>
                    <td>{{ test_id }}</td>
                    <td>
                        <span style="color: {% if data|get_item:test_id|get_item:"verification status" != data|get_item:test_id|get_item:"ideal verdict" %}#ff3463{% else %}#20d467{% endif %};"{% if data|get_item:test_id|get_item:"comment" %} class="report-data-popup hoverable" data-content="{{ data|get_item:test_id|get_item:"comment" }}" data-variation="very wide"{% endif %}>{% if data|get_item:test_id|get_item:"verification status" != data|get_item:test_id|get_item:"ideal verdict" %}{% trans 'Failed' %}{% else %}{% trans 'Passed' %}{% endif %}<br>{{ data|get_item:test_id|get_item:"ideal verdict" }} &rarr; {{ data|get_item:test_id|get_item:"verification status" }}</span>{% if data|get_item:test_id|get_item:"comment" %}*{% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% elif component == 'Core' and type == '3' %}
    <h5 class="ui brown header">{% trans 'Validation results' %}</h5>
    <table class="ui compact brown table">
        <thead>
            <tr>
                <th>{% trans 'Bug' %}</th>
                <th>{% trans 'Before fix' %}</th>
                <th>{% trans 'After fix' %}</th>
            </tr>
        </thead>
        <tbody>
            {% for validation_res in data %}
                <tr>
                    <td>{{ validation_res.0 }}</td>
                    <td>
                        <span style="color: {% if validation_res.1 != 'unsafe' %}#ff3463{% else %}#20d467{% endif %};"{% if validation_res.2 %} class="report-data-popup hoverable" data-content="{{ validation_res.2 }}" data-variation="very wide"{% endif %}>{{ validation_res.1 }}</span>{% if validation_res.2 %}*{% endif %}
                    </td>
                    <td>
                        {% if validation_res.3 %}<span style="color: {% if validation_res.3 != 'safe' %}#ff3463{% else %}#20d467{% endif %};"{% if validation_res.4 %} class="report-data-popup hoverable" data-content="{{ validation_res.4 }}" data-variation="very wide"{% endif %}>{{ validation_res.3 }}</span>{% if validation_res.4 %}*{% endif %}{% else %}-{% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>{% trans 'Component' %}: {{ component }}</p>
    <p>{% trans 'Class' %}: {{ type }}</p>
    <p>{% trans 'Data' %}: "{{ data }}"</p>
{% endif %}