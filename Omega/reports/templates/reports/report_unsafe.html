{% extends 'reports/base.html' %}

{% load i18n %}

{% load tz %}

{% block body_block %}

{% autoescape off %} {{ unsafe.error_trace_processed  }}{% endautoescape %}
<div class="col-sm-10">
    </br><span class="Title">{% trans 'Attributes' %}</span>
    <table class="RootReportTable" border="1">
        <tr class="TableRawEven">
            <td><span class="TableTitle">{% trans 'Name' %}</span></td>
            <td><span class="TableTitle">{% trans 'Value' %}</span></td>
        </tr>
        {% for attr in attrs %}
        <tr class="TableRawOdd">
            <td>{{attr.attr.name.name}}</td>
            <td>{{attr.attr.value}}</td>
        </tr>
        {% endfor %}
    </table>

    </br><span class="Title">{% trans 'Parents' %}</span>
    <table class="RootReportTable" border="1">
        <tr class="TableRawEven">
            <td><span class="TableTitle">{% trans 'Component' %}</span></td>
            {% for attr in parents_attr %}
                <td><span class="TableTitle">{{ attr.name }}</span></td>
            {% endfor %}
        </tr>
        {% for parent, attr_values in parents.items %}
            <tr class="TableRawOdd">

            {% if not parent.parent %}
                <td><a href="{% url 'reports:report_root' parent.id %}">{{ parent.component.name }}</a></td>
            {% else %}
                <td><a href="{% url 'reports:report_component' parent.id %}">{{ parent.component.name }}</a></td>
            {% endif %}

            {% for attr in attr_values %}
                {% if attr %}
                    <td>{{ attr.0.value }}</td>
                {% else %}
                    <td></td>
                {% endif %}
            {% endfor %}
        </tr>
        {% endfor %}
    </table>

    {{ unsafe.description }}
</div>
{% endblock %}